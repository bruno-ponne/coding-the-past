<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Structured data -->
    

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K2DKTESR2N"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-K2DKTESR2N');
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="R, AI, ChatGPT">
    <meta name="description" content="Unlock the potential of AI in R and Python with this comprehensive tutorial on using ChatGPT for data analysis. Learn how to extract historical data from Wikipedia and transform it into organized R and Pandas dataframes. Plus, discover best practices for crafting ChatGPT prompts!">
    <meta property= og:image content= />
    <title>Harnessing AI in R and Python - Gather data with ChatGPT</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <!-- Google icon: -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Canonical Domain -->
    <link rel="canonical" href="http://localhost:4000/2023/11/01/AI-in-R.html">
    <link rel="icon" href="/favicon.png">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
    <div class="menu">
        <nav class="header-nav">
    <div class="logo">
        <a href="/"><img src="/assets/images/coding-the-past.png" alt="site logo"></a>
    </div>
    <ul class = "menu-items">
        
        <li>
            <a href="/" >
                home
            </a>
        </li>
        
        <li>
            <a href="/about.html" >
                about
            </a>
        </li>
        
    </ul>
</nav>
    </div>
    <div class="content">
        <div class="content-body">
            <div class="post-body">
    <h1 id = "post-main-title">Harnessing AI in R and Python - Gather data with ChatGPT</h1>
    <p id = "author">Bruno Ponne &#9679 01 Nov 2023</p>
    <hr>
    <ul class = "meta-info">
        
        <li>Easy</li>
        
        <li>R</li>
        
        <li>Python</li>
        
        <li>5 min</li>
        
    </ul>
    <br>
    <p class = "pre-lesson">What you will learn</p>
    <ul>
        
        <li class = "objectives"> Learn the capabilities of ChatGPT in retrieving and structuring historical data from Wikipedia for analysis;</li>
        
        <li class = "objectives"> Be comfortable with transforming text data into organized R and Pandas dataframes;</li>
        
        <li class = "objectives"> Be able to write clear and specific prompts to achieve accurate and relevant responses from ChatGPT.</li>
        
    </ul>
    <br>
    <p class = "pre-lesson">Table of Contents</p>


    <ul class="toc-entry"><li><a href="#ai-in-r-and-python">AI in R and Python</a></li><li><a href="#data-source">Data source</a><ul><li><a href="#1-use-chatgpt-to-retrieve-data-in-a-wikipedia-table">1. Use ChatGPT to retrieve data in a Wikipedia table</a></li><li><a href="#2-a-good-chatgpt-prompt">2. A good ChatGPT prompt</a></li><li><a href="#3-ai-for-r">3. AI for R</a></li><li><a href="#4-ai-for-python">4. AI for Python</a></li></ul></li><li><a href="#conclusions">Conclusions</a></li></ul>

    <p><br /></p>

<h1 id="ai-in-r-and-python">AI in R and Python</h1>

<p><br /></p>

<p><strong>Greetings, humanists, social and data scientists!</strong></p>

<p><br /></p>

<p>Welcome to this enlightening journey to extract historical data from the Web using AI! In this lesson, we delve into the innovative ways of harnessing the power of ChatGPT to gather data for your analyses. Specifically, you’ll learn how to command ChatGPT to retrieve historical data from a Wikipedia article and present it in a neat R and Pandas dataframe.</p>

<p><br /></p>

<p><a href="https://openai.com/blog/chatgpt">ChatGPT</a> is an advanced large language model that has the remarkable capability to generate human-like text based on the prompts it receives. With ChatGPT, you can ask questions or provide instructions, and it will respond with relevant and coherent written answers. By the end of this post, the vast historical archives of Wikipedia will be just a prompt away, all thanks to the capabilities of ChatGPT.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h1 id="data-source">Data source</h1>

<p>The data used in this tutorial is presented in the Wikipedia article <a href="https://en.wikipedia.org/w/index.php?title=German_casualties_in_World_War_II&amp;oldid=1180060662">German casualties in World War II</a>. This article offers an overview of the casualties sustained by the German Army during the Second World War.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="1-use-chatgpt-to-retrieve-data-in-a-wikipedia-table">1. Use ChatGPT to retrieve data in a Wikipedia table</h2>

<p>The first step to gather the data is to access <a href="https://en.wikipedia.org/w/index.php?title=German_casualties_in_World_War_II&amp;oldid=1180060662">German casualties in World War II</a>. This article provides an exploration of the number of deaths, wounded, and sick people during World War II in Germany.</p>

<p><br /></p>

<p>Suppose you are interested in studying how the war differed across the different fronts and geographical regions. You see the second table presented in the article and would like to make a visualization showing the number of deaths in the German Army across the different war fronts. For small tables like this, you can simply select and copy the data you would like to transform in a dataframe, as shown in the figure below.</p>

<p><br /></p>

<p><img src="/assets/images/lesson_16_01.png" alt="Figure showing Wikipedia article and its table" /></p>

<p><br /></p>

<p>In this example, we will only gather the Army section of the table. Once you have copied the data, you are ready to use ChatGPT.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="2-a-good-chatgpt-prompt">2. A good ChatGPT prompt</h2>

<p>When writing prompts for ChatGPT, clarity and specificity are key. Start by providing enough context so the model understands what you’re asking. Being explicit about the format or type of answer you want can also help guide ChatGPT in generating a response that meets your expectations.</p>

<p><br /></p>

<p>Additionally, including examples of desired responses can be beneficial. Always consider the “garbage in, garbage out” principle; a well-crafted prompt is more likely to result in a useful and coherent response.</p>

<p><br /></p>

<p><img src="/assets/images/lesson_16_02.png" alt="Figure with tips for writing a good ChatGPT prompt" /></p>

<p><br /></p>

<p>For the R prompt, consult step 3 below and for the Python prompt jump to step 4.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="3-ai-for-r">3. AI for R</h2>

<p>Below you can see a suggestion of prompt to ask ChatGPT to transform the text input copied from Wikipedia in an R dataframe. In the figure, we highlight each part of the prompt. Moreover, ChatGPT response is provided.</p>

<p><br /></p>

<p class="larger"><img src="/assets/images/lesson_16_03.png" alt="ChatGPT prompt with highlighted elements" /></p>

<p><br /></p>

<p>If you would like, you can copy the prompt here:</p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-16-1')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-16-1">

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">You are a data scientist investigating the number of deaths in the German Army during the Second World War.  Please, could you transform the table below into an R data frame made with the data.frame( ) function? The character "-" should be replaced by NA.  The table was copied from a Wikipedia place and is as follows: """
Description	Dead	Missing &amp; POW	Total	Wounded &amp; Sick
Army				
Eastern Front	1,105,987	1,018,365	2,124,352	3,498,059
North: Norway/Finland	16,639	5,157	21,796	60,451
Southwest: N Africa/Italy	50,481	194,250	244,731	163,602
Southeast: Balkans	19,235	14,805	34,040	55,069
West: France/Low Countries	107,042	409,715	516,757	399,856
Training Forces	10,467	1,337	11,804	42,174
Died of Wounds-All Fronts	295,659	-	295,659	-
Location not Given	17,051	2,687	19,738	- """</code></pre></figure>


</div>

<p><br /></p>

<p>And here is the model’s answer:</p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-16-2')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-16-2">

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="w">
  </span><span class="n">Description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Eastern Front"</span><span class="p">,</span><span class="w"> </span><span class="s2">"North: Norway/Finland"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Southwest: N Africa/Italy"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Southeast: Balkans"</span><span class="p">,</span><span class="w"> </span><span class="s2">"West: France/Low Countries"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Training Forces"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Died of Wounds-All Fronts"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Location not Given"</span><span class="p">),</span><span class="w">
  </span><span class="n">Dead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">gsub</span><span class="p">(</span><span class="s2">","</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"1105987"</span><span class="p">,</span><span class="w"> </span><span class="s2">"16639"</span><span class="p">,</span><span class="w"> </span><span class="s2">"50481"</span><span class="p">,</span><span class="w"> </span><span class="s2">"19235"</span><span class="p">,</span><span class="w"> </span><span class="s2">"107042"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10467"</span><span class="p">,</span><span class="w"> </span><span class="s2">"295659"</span><span class="p">,</span><span class="w"> </span><span class="s2">"17051"</span><span class="p">))),</span><span class="w">
  </span><span class="n">Missing_POW</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">gsub</span><span class="p">(</span><span class="s2">","</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"1018365"</span><span class="p">,</span><span class="w"> </span><span class="s2">"5157"</span><span class="p">,</span><span class="w"> </span><span class="s2">"194250"</span><span class="p">,</span><span class="w"> </span><span class="s2">"14805"</span><span class="p">,</span><span class="w"> </span><span class="s2">"409715"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1337"</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="s2">"2687"</span><span class="p">))),</span><span class="w">
  </span><span class="n">Total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">gsub</span><span class="p">(</span><span class="s2">","</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"2124352"</span><span class="p">,</span><span class="w"> </span><span class="s2">"21796"</span><span class="p">,</span><span class="w"> </span><span class="s2">"244731"</span><span class="p">,</span><span class="w"> </span><span class="s2">"34040"</span><span class="p">,</span><span class="w"> </span><span class="s2">"516757"</span><span class="p">,</span><span class="w"> </span><span class="s2">"11804"</span><span class="p">,</span><span class="w"> </span><span class="s2">"295659"</span><span class="p">,</span><span class="w"> </span><span class="s2">"19738"</span><span class="p">))),</span><span class="w">
  </span><span class="n">Wounded_Sick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">gsub</span><span class="p">(</span><span class="s2">","</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"3498059"</span><span class="p">,</span><span class="w"> </span><span class="s2">"60451"</span><span class="p">,</span><span class="w"> </span><span class="s2">"163602"</span><span class="p">,</span><span class="w"> </span><span class="s2">"55069"</span><span class="p">,</span><span class="w"> </span><span class="s2">"399856"</span><span class="p">,</span><span class="w"> </span><span class="s2">"42174"</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">)))</span><span class="w">
</span><span class="p">)</span></code></pre></figure>


</div>

<p><br /></p>

<p>And that’s it. In a few seconds you have your data formatted in a nice dataframe, ready to be analyzed.</p>

<p><br /></p>

<p>Now we will make a simple bar plot to visualize the total number of deaths by front. To do that, we use ggplot. Note that we reorder the variable <code class="language-plaintext highlighter-rouge">Description</code> so that it is ordered from the largest number of deaths to the smallest. Moreover, we also divide <code class="language-plaintext highlighter-rouge">Total</code> by one million to have millions of deaths in the x axis. To add a customized ggplot2 theme, like the one in the plot presented below, check the lesson <a href="/2023/01/24/Historical-Weather-Data.html">‘Climate data visualization with ggplot2’</a></p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-16-3')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-16-3">

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reorder</span><span class="p">(</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="n">Total</span><span class="p">),</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Total</span><span class="o">/</span><span class="m">1000000</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#FF6885"</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Deaths in the German Army by location or cause"</span><span class="p">,</span><span class="w">
       </span><span class="n">subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Second World War (1939-1945)"</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Front/Cause"</span><span class="p">,</span><span class="w">
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number of Deaths [in millions]"</span><span class="p">,</span><span class="w">
       </span><span class="n">caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Source: German casualties in World War II. Wikipedia"</span><span class="p">)</span></code></pre></figure>


</div>

<p><br /></p>

<p class="larger"><img src="/assets/images/lesson_16_04.png" alt="Bar plot showing number of deaths per front in the German Army in the Second World War" /></p>

<p><br /></p>

<p>It is remarkable that most of casualties occurred in the Eastern Front while the least lethal front was in the nordic countries.</p>

<div class="text-note">
    <span class="material-symbols-outlined">
        tips_and_updates
    </span>
    <span class="text-note-title">&nbsp; </span> 
    <div class="text-note-content"> The approach demonstrated in this lesson is effective for small tables. However, when faced with larger and more complex tables, ChatGPT tends to avoid the task of assembling a dataframe directly. Instead, it often proposes a solution that involves scraping the table in R using the page URL. You should also consider the prompt length limit when using this approach.
        
    </div>
</div>

<p><br /></p>

<h2 id="4-ai-for-python">4. AI for Python</h2>

<p>The prompt for achieving the same result in Python is almost the same, but we ask for a Pandas data frame, instead of an R data frame.</p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-16-4')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-16-4">

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">You are a data scientist investigating the number of deaths in the German Army during the Second World War.  Please, could you transform the table below into a Pandas data frame? The character "-" should be replaced by NA.  The table was copied from a Wikipedia place and is as follows: """
Description	Dead	Missing &amp; POW	Total	Wounded &amp; Sick
Army				
Eastern Front	1,105,987	1,018,365	2,124,352	3,498,059
North: Norway/Finland	16,639	5,157	21,796	60,451
Southwest: N Africa/Italy	50,481	194,250	244,731	163,602
Southeast: Balkans	19,235	14,805	34,040	55,069
West: France/Low Countries	107,042	409,715	516,757	399,856
Training Forces	10,467	1,337	11,804	42,174
Died of Wounds-All Fronts	295,659	-	295,659	-
Location not Given	17,051	2,687	19,738	- """</code></pre></figure>


</div>

<p><br /></p>

<p>This prompts correctly organizes the data in a Pandas data frame, as shown below:</p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-16-5')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-16-5">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">Description</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">Eastern Front</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">North: Norway/Finland</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Southwest: N Africa/Italy</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Southeast: Balkans</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">West: France/Low Countries</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Training Forces</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Died of Wounds-All Fronts</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Location not Given</span><span class="sh">"</span><span class="p">],</span>
    <span class="sh">"</span><span class="s">Dead</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1105987</span><span class="p">,</span> <span class="mi">16639</span><span class="p">,</span> <span class="mi">50481</span><span class="p">,</span> <span class="mi">19235</span><span class="p">,</span> <span class="mi">107042</span><span class="p">,</span> <span class="mi">10467</span><span class="p">,</span> <span class="mi">295659</span><span class="p">,</span> <span class="mi">17051</span><span class="p">],</span>
    <span class="sh">"</span><span class="s">Missing &amp; POW</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1018365</span><span class="p">,</span> <span class="mi">5157</span><span class="p">,</span> <span class="mi">194250</span><span class="p">,</span> <span class="mi">14805</span><span class="p">,</span> <span class="mi">409715</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">2687</span><span class="p">],</span>
    <span class="sh">"</span><span class="s">Total</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="mi">2124352</span><span class="p">,</span> <span class="mi">21796</span><span class="p">,</span> <span class="mi">244731</span><span class="p">,</span> <span class="mi">34040</span><span class="p">,</span> <span class="mi">516757</span><span class="p">,</span> <span class="mi">11804</span><span class="p">,</span> <span class="mi">295659</span><span class="p">,</span> <span class="mi">19738</span><span class="p">],</span>
    <span class="sh">"</span><span class="s">Wounded &amp; Sick</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="mi">3498059</span><span class="p">,</span> <span class="mi">60451</span><span class="p">,</span> <span class="mi">163602</span><span class="p">,</span> <span class="mi">55069</span><span class="p">,</span> <span class="mi">399856</span><span class="p">,</span> <span class="mi">42174</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">nan</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code></pre></figure>


</div>

<p><br /></p>

<p><strong>Keep in mind that accuracy is not one of ChatGPT’s strengths. While I have not seen any mistakes in the code above, it is always good to revise ChatGPT’s work. Let me know if you have any suggestions on how to improve this method. Also, leave any questions or concerns you might have in the comments below.</strong></p>

<p><br /></p>

<hr />

<p><br /></p>

<h1 id="conclusions">Conclusions</h1>

<p><br /></p>

<ul class="conclusion-list">
  <li>ChatGPT is a powerful tool that can be utilized to efficiently gather and organize historical data from the web, specifically Wikipedia, into structured data frames for analysis in R and Python;</li>
  <li>Clarity and specificity are essential when crafting prompts for ChatGPT to ensure accurate and relevant responses;</li>
  <li>While this method is highly effective for small tables, it’s important to note that ChatGPT may suggest alternative solutions such as web scraping for larger and more complex tables, and to always review ChatGPT’s output for accuracy.</li>
</ul>

<p><br /></p>

<hr />


    
</div>


<div class = "comments-style">
    <script>function setText(elementId, textContent) {
		document.getElementById(elementId).textContent = textContent;
	};

	function show(elementId) {
		document.getElementById(elementId).style.display = 'inline';
	};

	function hide(elementId) {
		document.getElementById(elementId).style.display = 'none';
	};

	function getValue(elementId) {
		return document.getElementById(elementId).value;
	};

	function setValue(elementId, value) {
		return document.getElementById(elementId).value = value;
	};

	function fadeIn(element) {
		var duration = 400;
		element.style.opacity = 0;
		let opacity = 0;
		const timer = setInterval(function() {
		  opacity += 50 / duration;
		  if (opacity >= 1) {
		    clearInterval(timer);
		    opacity = 1;
		  }
		  element.style.opacity = opacity;
		}, 50);
	};


	function disableButtonWithLoader(elementId) {
		var buttonToDisable = document.getElementById(elementId);
		if (buttonToDisable == null) {
			return;
		}
		buttonToDisable.disabled = true;
		setText(elementId, "\xa0");
	}

	function disablePostCommentButton() {
		disableButtonWithLoader("comment-submit");
	};

	function enablePostCommentButton() {
		var postCommentButton = document.getElementById("comment-submit");
		postCommentButton.disabled = false;
		setText("comment-submit", "Post");
	};async function initialCommentLoad() {
		disableButtonWithLoader("load-comment-button");var loadJquery = document.createElement("script");
		loadJquery.type = "text/javascript";
		loadJquery.src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js";
		document.head.appendChild(loadJquery);var loadValidator = document.createElement("script");
		loadValidator.src = "https://cdnjs.cloudflare.com/ajax/libs/validator/13.9.0/validator.min.js";
		document.head.appendChild(loadValidator);await loadValidator.onload;loadJquery.onload = function() {async function checkJQuery() {
				if (typeof jQuery === "undefined") {
					return false;
				} else {
					clearTimeout(interval);var loadJqueryCsv = document.createElement("script");
					loadJqueryCsv.src = "https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.21/jquery.csv.min.js";
					document.head.appendChild(loadJqueryCsv);await loadJqueryCsv.onload;reloadComments();
				}
			};var interval = setInterval(checkJQuery, 250);
		};};

	var thisPageUrl = "/2023/11/01/AI-in-R.html";
	const EXTRA_INFO_START = "chunkedCommentInfoStart";
	const EXTRA_INFO_END = "chunkedCommentInfoEnd";var visibleComments = [];
	var hiddenComments = [];
	var netNewComments = [];function formatDate(stringDate) {
		var date = new Date(stringDate);
		var dateOptions = { year: 'numeric', month: 'long', day: 'numeric'};
		var timeOptions = { hour: 'numeric', minute: 'numeric' };
		return `${date.toLocaleDateString("en-us", dateOptions)} at ${date.toLocaleTimeString("en-us", timeOptions)}`;
	};async function displayComments(comments) {
		show("comments-and-input");
		hide("load-comments");
		var hasVisibleComments = visibleComments.length > 0;if (comments == null || comments === "" || comments == []) {
			if (!hasVisibleComments) {
				show("no-comments");
				hide("load-more-comments");
				hide("num-comments-displayed");
			}
			return;
		}comments = `timestamp,name,comment,isAuthor\n${comments}`;
		var newHiddenComments = $.csv.toObjects(comments).sort((a, b) => (new Date(a.timestamp).getTime() || 0) - (new Date(b.timestamp).getTime() || 0))
			.map(item => JSON.stringify(item));if (hasVisibleComments) {
			netNewComments = newHiddenComments
				.filter(item => !visibleComments.includes(item))
				.filter(item => !hiddenComments.includes(item));
		}

		hiddenComments = newHiddenComments
			.filter(item => !visibleComments.includes(item))
			.filter(item => !netNewComments.includes(item));

		loadMoreComments(false || !hasVisibleComments);
	};function loadMoreComments(isLoadMoreAction) {var newCommentsToDisplay = hiddenComments.slice(-5);if (isLoadMoreAction) {newCommentsToDisplay.reverse().forEach(element => displaySingleComment(element, true));
			hiddenComments = hiddenComments.filter(item => !newCommentsToDisplay.includes(item) && !visibleComments.includes(item));
		} else {netNewComments.forEach(element => displaySingleComment(element, false));
			netNewComments = []
		}

		setText("num-comments-displayed", `Showing ${visibleComments.length} of ${visibleComments.length + hiddenComments.length} comments`);

		if (hiddenComments.length == 0) {
			hide("load-more-comments");
		} else {
			show("load-more-comments");
		}
	};function getCommentInfo(comment) {
		var extraCommentInfo = comment?.match(EXTRA_INFO_START + ".+" + EXTRA_INFO_END);
		return {
			text : comment?.replace(extraCommentInfo, ""),
			extraCommentInfo : JSON.parse(extraCommentInfo?.toString()?.replace(EXTRA_INFO_START, "")?.replace(EXTRA_INFO_END, "") ?? "{}")
		};
	};

	function displaySingleComment(element, isPrepend) {if (visibleComments.includes(element)) {
			return;
		}

		var jsonElement = JSON.parse(element);
		var comment = getCommentInfo(jsonElement.comment?.toString());var verifiedAuthorTag = "";
		if (jsonElement.isAuthor == true || jsonElement.isAuthor === "TRUE") {
			verifiedAuthorTag = "&nbsp;<strong>(Author)</strong>";
		}var newItem = document.createElement("div");
		newItem.classList.add("comment-item");newItem.innerHTML = `
			<p class="commenter-name">${validator.escape(jsonElement.name.toString())}${verifiedAuthorTag}
				<small>${formatDate(jsonElement.timestamp)}</small>
			</p>
			<div><p>${validator.escape(comment?.text?.toString()).replace(new RegExp('\r?\n','g'), '<br />')}</p>
			</div>
		`.trim();
		if (isPrepend) {
			document.getElementById("comment-container").prepend(newItem);
		} else {
			document.getElementById("comment-container").append(newItem);
		}
		fadeIn(newItem);
		visibleComments.push(element);hide("no-comments");
		show("num-comments-displayed");
	};function reloadComments() {var sqlStatement = encodeURIComponent(`SELECT A, C, D, E WHERE B = '${thisPageUrl}'`);
		fetch(`https://docs.google.com/spreadsheets/d/1RiK_RAn062s6AjFH00JIWGo19h4BnHns-WbLzoK2S0I/gviz/tq?tqx=out:csv&sheet=comments&tq=${sqlStatement}&headers=0`)
		.then(response => response.text())
		.then(response => displayComments(response));
	};const encodeFormData = (data) => {
	    return Object.keys(data)
	        .map(key => encodeURIComponent(key) + '=' + encodeURIComponent(data[key]))
	        .join('&');
	};function getCommentContent() {
		var comment = getValue("comment-comment")?.toString();

		var extraCommentInfo = {};if (Object.keys(extraCommentInfo).length !== 0) {
			comment = EXTRA_INFO_START + JSON.stringify(extraCommentInfo) + EXTRA_INFO_END + comment;
		}

		return comment;
	};function postComment(recaptchaToken) {
		disablePostCommentButton();
		var username = getValue("comment-name");
		var comment = getCommentContent();

		fetch(`https://docs.google.com/forms/d/e/1FAIpQLSdHJGUw54uOd945wKEEhQtbSfWKCR9atiu30u044gaduhSgvw/formResponse`, {
		  method: 'POST',
		  mode: 'no-cors',
		  headers: {
		    "Content-Type": "application/x-www-form-urlencoded"
		  },
		  body: encodeFormData({
		  	"entry.1627158409" : thisPageUrl?.toString(),
		  	"entry.1988119021" : username?.toString(),
		  	"entry.1039248696" : comment?.toString()
		  })
		}).then(response => {
			setValue("comment-name", '');
			setValue("comment-comment", '');reloadComments();
		})
		.catch(error => {console.log(error);})
		.finally(() => { enablePostCommentButton(); });

		return false;
	};initialCommentLoad();</script><h2 class="post-subtitle">Comments</h2>
<div id="load-comments" class="comments">
	<button id="load-comment-button" class="comment-button" onclick="initialCommentLoad()">Load Comments</button>
</div>
<div id="comments-and-input">
	<div id="comment-section" class="comments">
		<p id="num-comments-displayed"></p>
		<button id="load-more-comments" class="comment-button" onclick="loadMoreComments(true)" type="button">Load Older Comments</button>
		<div id="no-comments" class="comment-info-text">
			<p>There are currently no comments on this article, be the first to add one below</p>
		</div>
		<div id="comment-container"></div>
	</div>
	<h2 class="post-subtitle">Add a Comment</h2>
	<div class="comments">
		<div class="comment-info-text">
			<p>If you are looking for a response to your comment, either leave your email address or check back on this page periodically.</p></div>	
		<div class="comments-form"><form onsubmit="return postComment()" id="comment-form" autocomplete="off"><ul>
					<li>
						<input id="comment-name" name="username" type="text" placeholder="Name" required="" value=""></li>
					<li><textarea id="comment-comment" name="comment" placeholder="Comment" required=""></textarea></li>
					<li><button id="comment-submit" type="submit" class="comment-button">Post</button></li>
				</ul><p>
			</form>
		</div>
	</div>
</div><style>
	.comment-item {
		position: relative;
		padding: 2%;
		background: white;
		width: 95%;
		margin-bottom: 4%;
		box-shadow: 0px 0px 2px 2px rgba(0, 0, 0, 0.1);
		color: #2E3031;
	}
	
	.comment-item:after {
		content: "";
		position: relative;
		display: block;
		clear: both;
	}
	
	.comment-item p {
		line-height: 1.6;
	}
	
	.comment-item small {
		padding-left: 0.7em;
		color: #999;
		font-size: 0.8em;
	}
	
	.commenter-name {
		color: #367588;
		text-decoration: none;
		font-size: 1em;
		font-weight: 700;
	}
	
	.commenter-name strong {
		color: #e91e63;
		text-decoration: none;
		font-size: 1em;
		font-weight: 700;
	}#comment-reply-info p {
		margin: 0;
	}
	
	.comments-form {
		width: 95%;


	}
	
	.comments-form ul {
		list-style: none;
	}
	
	.comments-form ul li {
		margin-bottom: 15px;
	}
	
	.comments {
		border-top: 2px solid rgba(206, 202, 202, 0.2);
		padding-top: 1rem;
		position: relative;
	}
	
	.comment-button {
		border: 0;
		background: #C84848;
		cursor: pointer;
		color: #fff;
		font-weight: bold;
		font-size: 0.9em;
		text-transform: uppercase;
		margin-bottom: 20px;
		outline-style: none;
		padding: 10px 20px;
		width: auto;
		min-width: 25%;
	}
	
	#comment-submit {
		width: auto;
		min-width: 25%;
		position: relative;
	}
	
	.comment-button:disabled::after,
	.comment-button[disabled]::after {
		content: "";
		position: absolute;
		width: 16px;
		height: 16px;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		margin: auto;
		border: 4px solid transparent;
		border-top-color: #ffffff;
		-webkit-animation: button-loading-spinner 1s ease infinite;
		animation: button-loading-spinner 1s ease infinite;
	}
	
	@keyframes button-loading-spinner {
		from {
			transform: rotate(0turn);
		}
	
		to {
			transform: rotate(1turn);
		}
	}
	
	@-webkit-keyframes button-loading-spinner {
		from {
			transform: rotate(0turn);
		}
	
		to {
			transform: rotate(1turn);
		}
	}
	
	#load-more-comments {

	}
	
	#load-more-comments,
	#num-comments-displayed {
		display: none;
	}
	
	#comment-name,
	#comment-comment {
		width: 50%;
		padding: 10px;
		border: 0;
		background: #f7f7f7;
		color: #2E3031;
	}
	

	
	#comment-name:focus,
	#comment-comment:focus {
		background: #fff;
	}
	
	#comment-comment {
		width: 100%;
		height: 80px;
		resize: vertical;
		min-height: 80px;
	}.comment-info-text {
		letter-spacing: 0.5px;
	}
	
	.comment-info-text p {
		margin: 0 0 1rem;
		text-align: justify;
		font-size: .9em;
	}
	
	#comment-container {
		width: 100%;
	}
	
	#comment-section, #load-comments {

	}

#comment-name::-webkit-input-placeholder,
#comment-comment::-webkit-input-placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name::-moz-placeholder,
#comment-comment::-moz-placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name:-ms-input-placeholder,
#comment-comment:-ms-input-placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name::-ms-input-placeholder,
#comment-comment::-ms-input-placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name::placeholder,
#comment-comment::placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name:focus,
#comment-comment:focus {
	background: #fff;
	font-family: 'Montserrat', Helvetica, sans-serif;   
}#load-comments {
		display: none;
	}</style>
</div>
<div class = "share">
    

<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
    position: relative;
    text-align: left; 
    height: 36px; 
    width: 32px; 
    float: left; 
    text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<span style="color: white;"> Share on </span><div id="share-buttons">
    <div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=http://localhost:4000/2023/11/01/AI-in-R.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
    <div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/home?status=http://localhost:4000/2023/11/01/AI-in-R.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
    <div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/2023/11/01/AI-in-R.html&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
    <div class="pinterest" title="Share this on Pinterest" onclick="window.open('https://pinterest.com/pin/create/button/?url=&media=http://localhost:4000lesson_16.jpeg&description=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M256 597q0-108 37.5-203.5t103.5-166.5 152-123 185-78 202-26q158 0 294 66.5t221 193.5 85 287q0 96-19 188t-60 177-100 149.5-145 103-189 38.5q-68 0-135-32t-96-88q-10 39-28 112.5t-23.5 95-20.5 71-26 71-32 62.5-46 77.5-62 86.5l-14 5-9-10q-15-157-15-188 0-92 21.5-206.5t66.5-287.5 52-203q-32-65-32-169 0-83 52-156t132-73q61 0 95 40.5t34 102.5q0 66-44 191t-44 187q0 63 45 104.5t109 41.5q55 0 102-25t78.5-68 56-95 38-110.5 20-111 6.5-99.5q0-173-109.5-269.5t-285.5-96.5q-200 0-334 129.5t-134 328.5q0 44 12.5 85t27 65 27 45.5 12.5 30.5q0 28-15 73t-37 45q-2 0-17-3-51-15-90.5-56t-61-94.5-32.5-108-11-106.5z"/></svg></div>
    <div class="mail" title="Share this through Email" onclick="window.open('mailto:?&body=http://localhost:4000/2023/11/01/AI-in-R.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>
</div>

<button onclick="topFunction()" id="myBtn" title="Go to the top">
    <span class="material-symbols-outlined">
        keyboard_double_arrow_up
    </span>
</button>





        </div>
    </div>
    <div class="footer">
        <footer class="footer">
    <div class="footer-content">
        <!-- Begin Mailchimp Signup Form -->
        <link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css">
        <div id="mc_embed_signup">
            <form
                action="https://gmail.us13.list-manage.com/subscribe/post?u=ae95cc65e2d79bab1a22dba39&amp;id=9481205f08&amp;f_id=002cabe2f0"
                method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate"
                target="_blank" novalidate>
                <div id="mc_embed_signup_scroll">
                    <h2><b>Subscribe here to know about new lessons!</b> </h2>
                    <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
                    <div class="mc-field-group">
                        <label for="mce-EMAIL">Email Address <span class="asterisk">*</span>
                        </label>
                        <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" required>
                        <span id="mce-EMAIL-HELPERTEXT" class="helper_text"></span>
                    </div>
                    <div id="mce-responses" class="clear foot">
                        <div class="response" id="mce-error-response" style="display:none"></div>
                        <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>
                    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
                            name="b_ae95cc65e2d79bab1a22dba39_9481205f08" tabindex="-1" value=""></div>
                    <div class="optionalParent">
                        <div class="clear foot">
                            <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
                                class="button">
                            <p class="brandingLogo"><a href="http://eepurl.com/ikypNP"
                                    title="Mailchimp - email marketing made easy and fun"><img
                                        src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg"></a>
                            </p>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
        <script type='text/javascript'>(function ($) { window.fnames = new Array(); window.ftypes = new Array(); fnames[0] = 'EMAIL'; ftypes[0] = 'email'; fnames[1] = 'FNAME'; ftypes[1] = 'text'; fnames[2] = 'LNAME'; ftypes[2] = 'text'; fnames[3] = 'ADDRESS'; ftypes[3] = 'address'; fnames[4] = 'PHONE'; ftypes[4] = 'phone'; fnames[5] = 'BIRTHDAY'; ftypes[5] = 'birthday'; }(jQuery)); var $mcj = jQuery.noConflict(true);
        </script>
        <!--End mc_embed_signup-->
        <div>
            <h3><b>Additional resources</b></h3>
            <a href="https://programminghistorian.org/">Programming Historian</a>
            <a href="https://rweekly.org/">R Weekly</a>
            <a href="https://www.r-bloggers.com/">R Bloggers</a>
            <a href="https://python-bloggers.com/">Python Bloggers</a>
        </div>
        <br>
        <div class = "policy-box">
            <a href="/privacy-policy.html">Privacy Policy</a>
            <a href="/terms-of-use.html">Terms of Use</a>
            <div class="license">
                <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
                    <a property="dct:title" rel="cc:attributionURL" href="https://www.codingthepast.com/">Coding the
                        Past</a>
                    by
                    <a rel="cc:attributionURL dct:creator" property="cc:attributionName"
                        href="https://brunoponne.com/">Bruno Ponne
                    </a> is licensed under
                    <a href="http://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1" target="_blank"
                        rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC 4.0<img
                            style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                            src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img
                            style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                            src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img
                            style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                            src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1">
                    </a>
                </p>
            </div>
           <br>
        </div>
    </div>
</footer>
    </div>
</body>
<script src="/assets/js/filter.js"></script>
<script src="/assets/js/copycode.js"></script>
<script src="/assets/js/up.js"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

</html>