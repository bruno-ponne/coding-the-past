<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Structured data -->
    

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K2DKTESR2N"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-K2DKTESR2N');
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="tf-idf, text data, bag of words, text mining, text analysis">
    <meta name="description" content="Learn TF-IDF formula and how to calculate it in Python. Plot the results to better understand the differences between TF and TF-IDF.">
    <meta property= og:image content= />
    <title>Understand TF-IDF in Python</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <!-- Google icon: -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Canonical Domain -->
    <link rel="canonical" href="http://localhost:4000/2023/04/26/Text-Mining-in-Python.html">
    <link rel="icon" href="/favicon.png">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
    <div class="menu">
        <nav class="header-nav">
    <div class="logo">
        <a href="/"><img src="/assets/images/coding-the-past.png" alt="site logo"></a>
    </div>
    <ul class = "menu-items">
        
        <li>
            <a href="/" >
                home
            </a>
        </li>
        
        <li>
            <a href="/about.html" >
                about
            </a>
        </li>
        
    </ul>
</nav>
    </div>
    <div class="content">
        <div class="content-body">
            <div class="post-body">
    <h1 id = "post-main-title">Understand TF-IDF in Python</h1>
    <p id = "author">Bruno Ponne &#9679 26 Apr 2023</p>
    <hr>
    <ul class = "meta-info">
        
        <li>Medium</li>
        
        <li>Python</li>
        
        <li>7 min</li>
        
    </ul>
    <br>
    <p class = "pre-lesson">What you will learn</p>
    <ul>
        
        <li class = "objectives"> Learn the concept behind TF-IDF;</li>
        
        <li class = "objectives"> Be able to create a function that calculates TF-IDF;</li>
        
        <li class = "objectives"> Learn to interpret TF-IDF scores;</li>
        
        <li class = "objectives"> Be comfortable with visualizing your results.</li>
        
    </ul>
    <br>
    <p class = "pre-lesson">Table of Contents</p>


    <ul class="toc-entry"><li><a href="#introduction">Introduction</a></li><li><a href="#data-source">Data source</a></li><li><a href="#coding-the-past-identifying-relevant-words-in-historical-documents">Coding the past: identifying relevant words in historical documents</a><ul><li><a href="#1-tf-idf-formula">1. TF-IDF formula</a></li><li><a href="#2-tf-idf-calculation-example">2. TF-IDF calculation example</a></li><li><a href="#3-preprocessing-text-data-in-python">3. Preprocessing text data in Python</a></li><li><a href="#3-calculating-term-frequencies-for-each-document">3. Calculating term frequencies for each document</a></li><li><a href="#4-calculating-how-many-times-a-word-appears-in-each-document-in-the-corpus">4. Calculating how many times a word appears in each document in the corpus</a></li><li><a href="#5-tf-idf-calculation">5. TF-IDF calculation</a></li><li><a href="#5-tf-idf-visualization">5. TF-IDF Visualization</a></li></ul></li><li><a href="#conclusions">Conclusions</a></li></ul>

    <p><br /></p>

<h1 id="introduction">Introduction</h1>

<p><br /></p>

<p>“Changes are shifting outside the words.”</p>

<p>Annie Lennox</p>

<p><br /></p>

<p>In the <a href="/2023/04/02/Text-Analysis-1.html">Text Data Visualization</a> lesson we learned how to use term frequency to identify the most frequent words in a document. Nevertheless, this methodology focuses only on the prevalence of individual terms within a single document, neglecting the term’s occurrence across other documents within the corpus. As a countermeasure to this shortcoming, TF-IDF was introduced. TF-IDF stands for Term Frequency - Inverse Document Frequency. This numerical statistic serves to underscore the significance of a word within a document, relative to a broader collection or corpus. In this lesson, we’ll journey through the process of calculating TF-IDF scores and bring those abstract numbers to life through Python-based visualizations.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h1 id="data-source">Data source</h1>

<p>The data used in this lesson is available on the <a href="https://ota.bodleian.ox.ac.uk/repository/xmlui/handle/20.500.12024/2021" target="_blank">Oxford Text Archive</a>  website. It consists of a collection of pamphlets published between 1750 and 1776 by influential authors in the British colonies. These pieces depict the debate with England over constitutional rights, showing the colonists’ understanding of their contemporary events and the conditions that precipitated the American Revolution. In this lesson, we will focus on the pamphlets of Oxenbridge Thacher, James Otis, and James Mayhew. To know more about textual data sources, check this post: <a href="/2023/01/10/Where-to-find-and-how-to-load-historical-data.html">‘Where to find and how to load historical data’</a></p>

<p><br /></p>

<p><br /></p>

<hr />

<p><br /></p>

<h1 id="coding-the-past-identifying-relevant-words-in-historical-documents">Coding the past: identifying relevant words in historical documents</h1>

<p><br /></p>

<h2 id="1-tf-idf-formula">1. TF-IDF formula</h2>

<p><br /></p>

<p>TF-IDF (Term Frequency-Inverse Document Frequency) is a numerical measure that indicates the importance of a word in a document taking into account how frequent the word is in other documents in the same corpus. It consists of multiplying the term frequency (TF) by the inverse document frequency (IDF), which is the logarithm of the total number of documents divided by the number of documents containing the term. The formula is as follows:</p>

<p><br /></p>

\[w_{ij} = tf_{ij} * log(\frac{N}{df_i})\]

<p><br /></p>

<p>Where:</p>

<ul class="conclusion-list">
  <li>\(w_{ij}\) is the tf-idf weight for word \(i\) in document \(j\);</li>
  <li>\(tf_{ij}\) is the number of times word \(i\) appears in document \(j\) divided by the total number of words in document \(j\);</li>
  <li>\(N\) is the total number of documents in the corpus;</li>
  <li>\(df_i\) is the number of documents in the corpus that contain word \(i\).</li>
</ul>

<p><br /></p>

<h2 id="2-tf-idf-calculation-example">2. TF-IDF calculation example</h2>

<p>Suppose you want to calculate the TF-IDF weight for the word “British”, which appears 5 times in a document containing 100 words. Given a corpus containing 4 documents, with 2 documents mentioning the word “British”, TF-IDF can be calculated by:</p>

\[w_{British} = \frac{5}{100} * log(\frac{4}{2}) = 0.015\]

<p><br /></p>

<p>TF-IDF increases as the term frequency increases, but it decreases as the number of times the word appears in other documents in the corpus increases. Variations of the TF-IDF weighting scheme are often used by search engines as a central tool in scoring and ranking a document’s relevance given a user query.</p>

<p><br /></p>

<h2 id="3-preprocessing-text-data-in-python">3. Preprocessing text data in Python</h2>

<p><br /></p>

<p>We will be using the same functions from the lesson <a href="/2023/04/02/Text-Analysis-1.html">Visualizing Text Data</a> to preprocess the text data. The functions are:</p>

<ul class="conclusion-list">
  <li><code class="language-plaintext highlighter-rouge">load_text</code>: loads the text from a <em>txt</em> file and returns a list of words;</li>
  <li><code class="language-plaintext highlighter-rouge">prepare_text</code>: preprocesses the text by removing stopwords, removing words with less than 3 characters, and transforming all words to lower case;</li>
  <li><code class="language-plaintext highlighter-rouge">count_freq</code>: counts the frequency of each word in the the document and returns a dataframe with the results.</li>
</ul>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-8-1')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>

<div id="code-8-1">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="n">itertools</span> <span class="kn">import</span> <span class="n">islice</span>
<span class="kn">from</span> <span class="n">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span>
<span class="kn">from</span> <span class="n">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="k">def</span> <span class="nf">load_text</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="n">my_text</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span> <span class="sh">"</span><span class="s">latin-1</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nf">islice</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">my_text</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="n">my_text</span> <span class="o">=</span> <span class="p">[</span><span class="nf">word_tokenize</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span> <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">my_text</span><span class="p">]</span>
    <span class="n">flat_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">my_text</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">flat_list</span>

<span class="k">def</span> <span class="nf">prepare_text</span><span class="p">(</span><span class="n">list_of_words</span><span class="p">):</span>
  <span class="c1">#load stopwords:
</span>  <span class="n">stops</span> <span class="o">=</span> <span class="n">stopwords</span><span class="p">.</span><span class="nf">words</span><span class="p">(</span><span class="sh">'</span><span class="s">english</span><span class="sh">'</span><span class="p">)</span>
  <span class="c1">#transform all word characters to lower case:
</span>  <span class="n">list_of_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">list_of_words</span><span class="p">]</span>
  <span class="c1">#remove all words containing up to two characters:
</span>  <span class="n">list_of_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">list_of_words</span> <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">]</span>
  <span class="c1">#remove stopwords:
</span>  <span class="n">list_of_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">list_of_words</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stops</span><span class="p">]</span>
  <span class="k">return</span> <span class="n">list_of_words</span>

<span class="k">def</span> <span class="nf">count_freq</span><span class="p">(</span><span class="n">my_list</span><span class="p">):</span>
    <span class="n">unique_words</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">counts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># create a list of unique words:
</span>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_words</span><span class="p">:</span> 
        <span class="n">unique_words</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="c1"># count the frequency of each word:
</span>    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">unique_words</span><span class="p">:</span>
      <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>
          <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="n">counts</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>

    <span class="c1"># create a dataframe with the words and their frequencies:
</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">({</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">:</span> <span class="n">unique_words</span><span class="p">,</span> <span class="sh">"</span><span class="s">count</span><span class="sh">"</span><span class="p">:</span> <span class="n">counts</span><span class="p">})</span>
    <span class="n">df</span><span class="p">.</span><span class="nf">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="sh">"</span><span class="s">count</span><span class="sh">"</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
    <span class="n">df</span><span class="p">.</span><span class="nf">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span></code></pre></figure>


</div>

<p><br /></p>

<p>After loading the functions above, we can use them to preprocess the text data.</p>

<p><br /></p>

<p>Now we load the manifests of three authors: Oxenbridge Thacher, James Otis, and James Mayhew. The results are stored in three lists called <code class="language-plaintext highlighter-rouge">thacher</code>, <code class="language-plaintext highlighter-rouge">otis</code>, and <code class="language-plaintext highlighter-rouge">mayhew</code>. After that, we preprocess the text data using the function <code class="language-plaintext highlighter-rouge">prepare_text</code> and count the frequency of each word in each document using the function <code class="language-plaintext highlighter-rouge">count_freq</code>. Results are stored in three dataframes called <code class="language-plaintext highlighter-rouge">thacher_df</code>, <code class="language-plaintext highlighter-rouge">otis_df</code>, and <code class="language-plaintext highlighter-rouge">mayhew_df</code>.</p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-8-2')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-8-2">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">thacher</span> <span class="o">=</span> <span class="nf">load_text</span><span class="p">(</span><span class="sh">'</span><span class="s">thacher-2021.txt</span><span class="sh">'</span><span class="p">)</span>
<span class="n">otis</span> <span class="o">=</span> <span class="nf">load_text</span><span class="p">(</span><span class="sh">'</span><span class="s">otis-2021.txt</span><span class="sh">'</span><span class="p">)</span>
<span class="n">mayhew</span> <span class="o">=</span> <span class="nf">load_text</span><span class="p">(</span><span class="sh">'</span><span class="s">mayhew2-2021.txt</span><span class="sh">'</span><span class="p">)</span>

<span class="n">thacher_prepared</span> <span class="o">=</span> <span class="nf">prepare_text</span><span class="p">(</span><span class="n">thacher</span><span class="p">)</span>
<span class="n">otis_prepared</span> <span class="o">=</span> <span class="nf">prepare_text</span><span class="p">(</span><span class="n">otis</span><span class="p">)</span>
<span class="n">mayhew_prepared</span> <span class="o">=</span> <span class="nf">prepare_text</span><span class="p">(</span><span class="n">mayhew</span><span class="p">)</span>

<span class="n">thacher_df</span> <span class="o">=</span> <span class="nf">count_freq</span><span class="p">(</span><span class="n">thacher_prepared</span><span class="p">)</span>
<span class="n">otis_df</span> <span class="o">=</span> <span class="nf">count_freq</span><span class="p">(</span><span class="n">otis_prepared</span><span class="p">)</span>
<span class="n">mayhew_df</span> <span class="o">=</span> <span class="nf">count_freq</span><span class="p">(</span><span class="n">mayhew_prepared</span><span class="p">)</span></code></pre></figure>


</div>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="3-calculating-term-frequencies-for-each-document">3. Calculating term frequencies for each document</h2>

<p><br /></p>

<p>As we have seen, the first component to calculate the TF-IDF weight is the term frequency. We can calculate the term frequency for each document by dividing the number of times a word appears in the document by the total number of words in it.</p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-8-3')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-8-3">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">thacher_df</span><span class="p">[</span><span class="sh">"</span><span class="s">TF</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">thacher_df</span><span class="p">[</span><span class="sh">"</span><span class="s">count</span><span class="sh">"</span><span class="p">]</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">thacher_df</span><span class="p">[</span><span class="sh">"</span><span class="s">count</span><span class="sh">"</span><span class="p">])</span>
<span class="n">otis_df</span><span class="p">[</span><span class="sh">"</span><span class="s">TF</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">otis_df</span><span class="p">[</span><span class="sh">"</span><span class="s">count</span><span class="sh">"</span><span class="p">]</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">otis_df</span><span class="p">[</span><span class="sh">"</span><span class="s">count</span><span class="sh">"</span><span class="p">])</span>
<span class="n">mayhew_df</span><span class="p">[</span><span class="sh">"</span><span class="s">TF</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">mayhew_df</span><span class="p">[</span><span class="sh">"</span><span class="s">count</span><span class="sh">"</span><span class="p">]</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">mayhew_df</span><span class="p">[</span><span class="sh">"</span><span class="s">count</span><span class="sh">"</span><span class="p">])</span></code></pre></figure>


</div>

<p><br /></p>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="4-calculating-how-many-times-a-word-appears-in-each-document-in-the-corpus">4. Calculating how many times a word appears in each document in the corpus</h2>

<p><br /></p>

<p>To calculate \(df_i\), we will left join all our dataframes. Then, for each row (word) we will sum the number of times its term frequency is greater than zero. In other words, we will count in how many documents the word appears at least once. This value will vary from 1 to 3, since we have three documents in our corpus. This count can be made with the pandas method <code class="language-plaintext highlighter-rouge">ne()</code> that checks if the values in the columns specified are not equal (ne) to zero. The results are booleans that can be summed to get the number of documents in which the word appears.</p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-8-4')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>

<div id="code-8-4">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#left join all dataframes:
</span><span class="n">thacher_otis</span> <span class="o">=</span> <span class="n">thacher_df</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF</span><span class="sh">"</span><span class="p">]].</span><span class="nf">merge</span><span class="p">(</span>
    <span class="n">otis_df</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF</span><span class="sh">"</span><span class="p">]],</span> 
    <span class="n">on</span> <span class="o">=</span> <span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> 
    <span class="n">how</span> <span class="o">=</span> <span class="sh">"</span><span class="s">outer</span><span class="sh">"</span><span class="p">,</span> 
    <span class="n">suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">_thacher</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">_otis</span><span class="sh">"</span><span class="p">)).</span><span class="nf">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">thacher_otis_may</span> <span class="o">=</span> <span class="n">thacher_otis</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span>
    <span class="n">mayhew_df</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF</span><span class="sh">"</span><span class="p">]],</span>
    <span class="n">on</span> <span class="o">=</span> <span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">how</span> <span class="o">=</span> <span class="sh">"</span><span class="s">outer</span><span class="sh">"</span><span class="p">).</span><span class="nf">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">#rename TF column to TF_mayhew:
</span><span class="n">thacher_otis_may</span><span class="p">.</span><span class="nf">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">TF</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">TF_mayhew</span><span class="sh">"</span><span class="p">},</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="c1">#count in how many documents each word appears:
</span>
<span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">dfi</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[[</span><span class="sh">"</span><span class="s">TF_thacher</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF_otis</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF_mayhew</span><span class="sh">"</span><span class="p">]].</span><span class="nf">ne</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nf">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code></pre></figure>


</div>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="5-tf-idf-calculation">5. TF-IDF calculation</h2>

<p><br /></p>

<p>Finally we have all elements to calculate the TF-IDF weight. Note that we will be using base 10 logarithms. To calculate the logarithm, we can use the library <code class="language-plaintext highlighter-rouge">math</code> and its method <code class="language-plaintext highlighter-rouge">log10()</code>. We use the <code class="language-plaintext highlighter-rouge">apply()</code> method to apply the logarithm to each row of <em>dfi</em> and then multiply it by the term frequency. The results are stored in three new columns called <code class="language-plaintext highlighter-rouge">TF-IDF_thacher</code>, <code class="language-plaintext highlighter-rouge">TF-IDF_otis</code>, and <code class="language-plaintext highlighter-rouge">TF-IDF_mayhew</code>. Note that <em>dfi</em> varies from 1 to 3, so when the word appears in all three documents, the logarithm element will be zero and consequently TF-IDF  will be zero as well (\(log_{10} 1 = 0\)).
<br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-8-5')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>

<div id="code-8-5">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="n">math</span>

<span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">TF-IDF_thacher</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">TF_thacher</span><span class="sh">"</span><span class="p">]</span> <span class="o">*</span> <span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">dfi</span><span class="sh">"</span><span class="p">].</span><span class="nf">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="p">.</span><span class="nf">log10</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="n">x</span><span class="p">))</span>
<span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">TF-IDF_otis</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">TF_otis</span><span class="sh">"</span><span class="p">]</span> <span class="o">*</span> <span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">dfi</span><span class="sh">"</span><span class="p">].</span><span class="nf">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="p">.</span><span class="nf">log10</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="n">x</span><span class="p">))</span>
<span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">TF-IDF_mayhew</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">TF_mayhew</span><span class="sh">"</span><span class="p">]</span> <span class="o">*</span> <span class="n">thacher_otis_may</span><span class="p">[</span><span class="sh">"</span><span class="s">dfi</span><span class="sh">"</span><span class="p">].</span><span class="nf">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="p">.</span><span class="nf">log10</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="n">x</span><span class="p">))</span></code></pre></figure>


</div>

<p><br /></p>

<hr />

<p><br /></p>

<h2 id="5-tf-idf-visualization">5. TF-IDF Visualization</h2>

<p><br /></p>

<p>Now we can compare how the two methods define the 10 most important words in each document. Keep in mind that the term frequency does not account for the words in other documents of the corpus while TF-IDF does. TF logic is that the most important words are the ones that appear the most in the document. TF-IDF logic is that the most important words are the ones that appear the most in the document but not in the other documents of the corpus. TF-IDF is more sophisticated because it helps you to distinguish one document from the others.</p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-8-6')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-8-6">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#create 2 dataframes with the top 10 words for each method:
</span>
<span class="n">TF_IDF_thacher</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF-IDF_thacher</span><span class="sh">"</span><span class="p">]].</span><span class="nf">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="sh">"</span><span class="s">TF-IDF_thacher</span><span class="sh">"</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">).</span><span class="nf">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">TF_thacher</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF_thacher</span><span class="sh">"</span><span class="p">]].</span><span class="nf">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="sh">"</span><span class="s">TF_thacher</span><span class="sh">"</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">).</span><span class="nf">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1">#plot:
</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1">#barplot:
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">barh</span><span class="p">(</span><span class="n">TF_thacher</span><span class="p">[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">],</span> <span class="n">TF_thacher</span><span class="p">[</span><span class="sh">"</span><span class="s">TF_thacher</span><span class="sh">"</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#386cb0</span><span class="sh">"</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#386cb0</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="nf">barh</span><span class="p">(</span><span class="n">TF_IDF_thacher</span><span class="p">[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">],</span> <span class="n">TF_IDF_thacher</span><span class="p">[</span><span class="sh">"</span><span class="s">TF-IDF_thacher</span><span class="sh">"</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#f0027f</span><span class="sh">"</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#f0027f</span><span class="sh">"</span><span class="p">)</span>

<span class="c1">#title:
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Thacher TF</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Thacher TF-IDF</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="nf">set_xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">,</span> <span class="mf">0.003</span><span class="p">])</span>

<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">fig</span><span class="p">.</span><span class="n">axes</span><span class="p">:</span>                             <span class="c1"># iterate over ax1, ax2, ax3 to: 
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">invert_yaxis</span><span class="p">()</span>                           <span class="c1"># invert the y axis; 
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>                              <span class="c1"># eliminate grid;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="nf">set_color</span><span class="p">(</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>                 <span class="c1"># set title font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># set x axis font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># set y axis font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">set_facecolor</span><span class="p">(</span><span class="sh">'</span><span class="s">#2E3031</span><span class="sh">'</span><span class="p">)</span>                 <span class="c1"># set ax background color to #2E3031;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">top</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>         <span class="c1"># eliminate spines;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">right</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">left</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">'</span><span class="s">bottom</span><span class="sh">'</span><span class="p">].</span><span class="nf">set_color</span><span class="p">(</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>

<span class="c1">#fig background color:
</span><span class="n">fig</span><span class="p">.</span><span class="n">patch</span><span class="p">.</span><span class="nf">set_facecolor</span><span class="p">(</span><span class="sh">'</span><span class="s">#2E3031</span><span class="sh">'</span><span class="p">)</span>
<span class="c1">#layout:
</span><span class="n">fig</span><span class="p">.</span><span class="nf">tight_layout</span><span class="p">()</span></code></pre></figure>


</div>

<p><br /></p>

<p class="larger"><img src="/assets/images/lesson_08_01.png" alt="Comparison TF vs TF-IDF: Thacher" /></p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-8-7')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>
<div id="code-8-7">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">TF_IDF_otis</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF-IDF_otis</span><span class="sh">"</span><span class="p">]].</span><span class="nf">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="sh">"</span><span class="s">TF-IDF_otis</span><span class="sh">"</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">).</span><span class="nf">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">TF_otis</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF_otis</span><span class="sh">"</span><span class="p">]].</span><span class="nf">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="sh">"</span><span class="s">TF_otis</span><span class="sh">"</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">).</span><span class="nf">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># barplot:
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">barh</span><span class="p">(</span><span class="n">TF_otis</span><span class="p">[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">],</span> <span class="n">TF_otis</span><span class="p">[</span><span class="sh">"</span><span class="s">TF_otis</span><span class="sh">"</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#386cb0</span><span class="sh">"</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#386cb0</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="nf">barh</span><span class="p">(</span><span class="n">TF_IDF_otis</span><span class="p">[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">],</span> <span class="n">TF_IDF_otis</span><span class="p">[</span><span class="sh">"</span><span class="s">TF-IDF_otis</span><span class="sh">"</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#f0027f</span><span class="sh">"</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#f0027f</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># title:
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Otis TF</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Otis TF-IDF</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="nf">set_xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0005</span><span class="p">,</span> <span class="mf">0.0010</span><span class="p">,</span> <span class="mf">0.0015</span><span class="p">])</span>

<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">fig</span><span class="p">.</span><span class="n">axes</span><span class="p">:</span>                             <span class="c1"># iterate over ax1, ax2, ax3 to: 
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">invert_yaxis</span><span class="p">()</span>                           <span class="c1"># invert the y axis; 
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>                              <span class="c1"># eliminate grid;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="nf">set_color</span><span class="p">(</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>                 <span class="c1"># set title font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># set x axis font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># set y axis font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">set_facecolor</span><span class="p">(</span><span class="sh">'</span><span class="s">#2E3031</span><span class="sh">'</span><span class="p">)</span>                 <span class="c1"># set ax background color to #2E3031;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">top</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>         <span class="c1"># eliminate spines;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">right</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">left</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">'</span><span class="s">bottom</span><span class="sh">'</span><span class="p">].</span><span class="nf">set_color</span><span class="p">(</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># fig background color:
</span><span class="n">fig</span><span class="p">.</span><span class="n">patch</span><span class="p">.</span><span class="nf">set_facecolor</span><span class="p">(</span><span class="sh">'</span><span class="s">#2E3031</span><span class="sh">'</span><span class="p">)</span>
<span class="c1"># layout:
</span><span class="n">fig</span><span class="p">.</span><span class="nf">tight_layout</span><span class="p">()</span></code></pre></figure>


</div>

<p><br /></p>

<p class="larger"><img src="/assets/images/lesson_08_02.png" alt="Comparison TF vs TF-IDF: Otis" /></p>

<p><br /></p>

<p><span class="material-symbols-outlined" id="copy-button" onclick="copyCode('code-8-8')">
  content_copy
  <span class="tooltiptext">Copy</span>
</span></p>

<div id="code-8-8">

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">TF_IDF_mayhew</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF-IDF_mayhew</span><span class="sh">"</span><span class="p">]].</span><span class="nf">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="sh">"</span><span class="s">TF-IDF_mayhew</span><span class="sh">"</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">).</span><span class="nf">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">TF_mayhew</span> <span class="o">=</span> <span class="n">thacher_otis_may</span><span class="p">[[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">TF_mayhew</span><span class="sh">"</span><span class="p">]].</span><span class="nf">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="sh">"</span><span class="s">TF_mayhew</span><span class="sh">"</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">).</span><span class="nf">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># barplot:
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">barh</span><span class="p">(</span><span class="n">TF_mayhew</span><span class="p">[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">],</span> <span class="n">TF_mayhew</span><span class="p">[</span><span class="sh">"</span><span class="s">TF_mayhew</span><span class="sh">"</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#386cb0</span><span class="sh">"</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#386cb0</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="nf">barh</span><span class="p">(</span><span class="n">TF_IDF_mayhew</span><span class="p">[</span><span class="sh">"</span><span class="s">word</span><span class="sh">"</span><span class="p">],</span> <span class="n">TF_IDF_mayhew</span><span class="p">[</span><span class="sh">"</span><span class="s">TF-IDF_mayhew</span><span class="sh">"</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#f0027f</span><span class="sh">"</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#f0027f</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># title:
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Mayhew TF</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Mayhew TF-IDF</span><span class="sh">"</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">fig</span><span class="p">.</span><span class="n">axes</span><span class="p">:</span>                             <span class="c1"># iterate over ax1, ax2, ax3 to: 
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">invert_yaxis</span><span class="p">()</span>                           <span class="c1"># invert the y axis; 
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>                              <span class="c1"># eliminate grid;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="nf">set_color</span><span class="p">(</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>                 <span class="c1"># set title font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># set x axis font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># set y axis font color to white;
</span>    <span class="n">ax</span><span class="p">.</span><span class="nf">set_facecolor</span><span class="p">(</span><span class="sh">'</span><span class="s">#2E3031</span><span class="sh">'</span><span class="p">)</span>                 <span class="c1"># set ax background color to #2E3031;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">top</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>         <span class="c1"># eliminate spines;
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">right</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">"</span><span class="s">left</span><span class="sh">"</span><span class="p">].</span><span class="nf">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">spines</span><span class="p">[</span><span class="sh">'</span><span class="s">bottom</span><span class="sh">'</span><span class="p">].</span><span class="nf">set_color</span><span class="p">(</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># fig background color:
</span><span class="n">fig</span><span class="p">.</span><span class="n">patch</span><span class="p">.</span><span class="nf">set_facecolor</span><span class="p">(</span><span class="sh">'</span><span class="s">#2E3031</span><span class="sh">'</span><span class="p">)</span>
<span class="c1"># layout:
</span><span class="n">fig</span><span class="p">.</span><span class="nf">tight_layout</span><span class="p">()</span></code></pre></figure>


</div>

<p><br /></p>

<p class="larger"><img src="/assets/images/lesson_08_03.png" alt="Comparison TF vs TF-IDF: Otis" /></p>

<p><br /></p>

<p>Please note that common words in the corpus, such as “Britain” and “government,” simply do not appear in the top 10 chart because they are present in all three documents. The intuition behind this is that these words are so common in the corpus that they do not provide much useful information. The top 10 words found with TF-IDF have a stronger explanatory power in distinguishing between the three authors. Furthermore, despite being present in two documents, the word “colonies” continues to have a strong TF-IDF score. This is because the word is not present in all three documents, and it is very common in the two documents where it appears.</p>

<p><br /></p>

<hr />

<p><br /></p>

<h1 id="conclusions">Conclusions</h1>

<p><br /></p>

<ul class="conclusion-list">
  <li>TF-IDF depends on two factors: the frequency of a word in a document, and the inverse frequency of the word in the corpus;</li>
  <li>It is possible to calculate TF-IDF scores from scratch in Python, which helps you to understand the logic behind the calculation;</li>
  <li>TF-IDF is a useful tool when you want to identify words that are specific to a particular document.</li>
</ul>

<p><br /></p>

<hr />

    
</div>


<div class = "comments-style">
    <script>function setText(elementId, textContent) {
		document.getElementById(elementId).textContent = textContent;
	};

	function show(elementId) {
		document.getElementById(elementId).style.display = 'inline';
	};

	function hide(elementId) {
		document.getElementById(elementId).style.display = 'none';
	};

	function getValue(elementId) {
		return document.getElementById(elementId).value;
	};

	function setValue(elementId, value) {
		return document.getElementById(elementId).value = value;
	};

	function fadeIn(element) {
		var duration = 400;
		element.style.opacity = 0;
		let opacity = 0;
		const timer = setInterval(function() {
		  opacity += 50 / duration;
		  if (opacity >= 1) {
		    clearInterval(timer);
		    opacity = 1;
		  }
		  element.style.opacity = opacity;
		}, 50);
	};


	function disableButtonWithLoader(elementId) {
		var buttonToDisable = document.getElementById(elementId);
		if (buttonToDisable == null) {
			return;
		}
		buttonToDisable.disabled = true;
		setText(elementId, "\xa0");
	}

	function disablePostCommentButton() {
		disableButtonWithLoader("comment-submit");
	};

	function enablePostCommentButton() {
		var postCommentButton = document.getElementById("comment-submit");
		postCommentButton.disabled = false;
		setText("comment-submit", "Post");
	};async function initialCommentLoad() {
		disableButtonWithLoader("load-comment-button");var loadJquery = document.createElement("script");
		loadJquery.type = "text/javascript";
		loadJquery.src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js";
		document.head.appendChild(loadJquery);var loadValidator = document.createElement("script");
		loadValidator.src = "https://cdnjs.cloudflare.com/ajax/libs/validator/13.9.0/validator.min.js";
		document.head.appendChild(loadValidator);await loadValidator.onload;loadJquery.onload = function() {async function checkJQuery() {
				if (typeof jQuery === "undefined") {
					return false;
				} else {
					clearTimeout(interval);var loadJqueryCsv = document.createElement("script");
					loadJqueryCsv.src = "https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.21/jquery.csv.min.js";
					document.head.appendChild(loadJqueryCsv);await loadJqueryCsv.onload;reloadComments();
				}
			};var interval = setInterval(checkJQuery, 250);
		};};

	var thisPageUrl = "/2023/04/26/Text-Mining-in-Python.html";
	const EXTRA_INFO_START = "chunkedCommentInfoStart";
	const EXTRA_INFO_END = "chunkedCommentInfoEnd";var visibleComments = [];
	var hiddenComments = [];
	var netNewComments = [];function formatDate(stringDate) {
		var date = new Date(stringDate);
		var dateOptions = { year: 'numeric', month: 'long', day: 'numeric'};
		var timeOptions = { hour: 'numeric', minute: 'numeric' };
		return `${date.toLocaleDateString("en-us", dateOptions)} at ${date.toLocaleTimeString("en-us", timeOptions)}`;
	};async function displayComments(comments) {
		show("comments-and-input");
		hide("load-comments");
		var hasVisibleComments = visibleComments.length > 0;if (comments == null || comments === "" || comments == []) {
			if (!hasVisibleComments) {
				show("no-comments");
				hide("load-more-comments");
				hide("num-comments-displayed");
			}
			return;
		}comments = `timestamp,name,comment,isAuthor\n${comments}`;
		var newHiddenComments = $.csv.toObjects(comments).sort((a, b) => (new Date(a.timestamp).getTime() || 0) - (new Date(b.timestamp).getTime() || 0))
			.map(item => JSON.stringify(item));if (hasVisibleComments) {
			netNewComments = newHiddenComments
				.filter(item => !visibleComments.includes(item))
				.filter(item => !hiddenComments.includes(item));
		}

		hiddenComments = newHiddenComments
			.filter(item => !visibleComments.includes(item))
			.filter(item => !netNewComments.includes(item));

		loadMoreComments(false || !hasVisibleComments);
	};function loadMoreComments(isLoadMoreAction) {var newCommentsToDisplay = hiddenComments.slice(-5);if (isLoadMoreAction) {newCommentsToDisplay.reverse().forEach(element => displaySingleComment(element, true));
			hiddenComments = hiddenComments.filter(item => !newCommentsToDisplay.includes(item) && !visibleComments.includes(item));
		} else {netNewComments.forEach(element => displaySingleComment(element, false));
			netNewComments = []
		}

		setText("num-comments-displayed", `Showing ${visibleComments.length} of ${visibleComments.length + hiddenComments.length} comments`);

		if (hiddenComments.length == 0) {
			hide("load-more-comments");
		} else {
			show("load-more-comments");
		}
	};function getCommentInfo(comment) {
		var extraCommentInfo = comment?.match(EXTRA_INFO_START + ".+" + EXTRA_INFO_END);
		return {
			text : comment?.replace(extraCommentInfo, ""),
			extraCommentInfo : JSON.parse(extraCommentInfo?.toString()?.replace(EXTRA_INFO_START, "")?.replace(EXTRA_INFO_END, "") ?? "{}")
		};
	};

	function displaySingleComment(element, isPrepend) {if (visibleComments.includes(element)) {
			return;
		}

		var jsonElement = JSON.parse(element);
		var comment = getCommentInfo(jsonElement.comment?.toString());var verifiedAuthorTag = "";
		if (jsonElement.isAuthor == true || jsonElement.isAuthor === "TRUE") {
			verifiedAuthorTag = "&nbsp;<strong>(Author)</strong>";
		}var newItem = document.createElement("div");
		newItem.classList.add("comment-item");newItem.innerHTML = `
			<p class="commenter-name">${validator.escape(jsonElement.name.toString())}${verifiedAuthorTag}
				<small>${formatDate(jsonElement.timestamp)}</small>
			</p>
			<div><p>${validator.escape(comment?.text?.toString()).replace(new RegExp('\r?\n','g'), '<br />')}</p>
			</div>
		`.trim();
		if (isPrepend) {
			document.getElementById("comment-container").prepend(newItem);
		} else {
			document.getElementById("comment-container").append(newItem);
		}
		fadeIn(newItem);
		visibleComments.push(element);hide("no-comments");
		show("num-comments-displayed");
	};function reloadComments() {var sqlStatement = encodeURIComponent(`SELECT A, C, D, E WHERE B = '${thisPageUrl}'`);
		fetch(`https://docs.google.com/spreadsheets/d/1RiK_RAn062s6AjFH00JIWGo19h4BnHns-WbLzoK2S0I/gviz/tq?tqx=out:csv&sheet=comments&tq=${sqlStatement}&headers=0`)
		.then(response => response.text())
		.then(response => displayComments(response));
	};const encodeFormData = (data) => {
	    return Object.keys(data)
	        .map(key => encodeURIComponent(key) + '=' + encodeURIComponent(data[key]))
	        .join('&');
	};function getCommentContent() {
		var comment = getValue("comment-comment")?.toString();

		var extraCommentInfo = {};if (Object.keys(extraCommentInfo).length !== 0) {
			comment = EXTRA_INFO_START + JSON.stringify(extraCommentInfo) + EXTRA_INFO_END + comment;
		}

		return comment;
	};function postComment(recaptchaToken) {
		disablePostCommentButton();
		var username = getValue("comment-name");
		var comment = getCommentContent();

		fetch(`https://docs.google.com/forms/d/e/1FAIpQLSdHJGUw54uOd945wKEEhQtbSfWKCR9atiu30u044gaduhSgvw/formResponse`, {
		  method: 'POST',
		  mode: 'no-cors',
		  headers: {
		    "Content-Type": "application/x-www-form-urlencoded"
		  },
		  body: encodeFormData({
		  	"entry.1627158409" : thisPageUrl?.toString(),
		  	"entry.1988119021" : username?.toString(),
		  	"entry.1039248696" : comment?.toString()
		  })
		}).then(response => {
			setValue("comment-name", '');
			setValue("comment-comment", '');reloadComments();
		})
		.catch(error => {console.log(error);})
		.finally(() => { enablePostCommentButton(); });

		return false;
	};initialCommentLoad();</script><h2 class="post-subtitle">Comments</h2>
<div id="load-comments" class="comments">
	<button id="load-comment-button" class="comment-button" onclick="initialCommentLoad()">Load Comments</button>
</div>
<div id="comments-and-input">
	<div id="comment-section" class="comments">
		<p id="num-comments-displayed"></p>
		<button id="load-more-comments" class="comment-button" onclick="loadMoreComments(true)" type="button">Load Older Comments</button>
		<div id="no-comments" class="comment-info-text">
			<p>There are currently no comments on this article, be the first to add one below</p>
		</div>
		<div id="comment-container"></div>
	</div>
	<h2 class="post-subtitle">Add a Comment</h2>
	<div class="comments">
		<div class="comment-info-text">
			<p>If you are looking for a response to your comment, either leave your email address or check back on this page periodically.</p></div>	
		<div class="comments-form"><form onsubmit="return postComment()" id="comment-form" autocomplete="off"><ul>
					<li>
						<input id="comment-name" name="username" type="text" placeholder="Name" required="" value=""></li>
					<li><textarea id="comment-comment" name="comment" placeholder="Comment" required=""></textarea></li>
					<li><button id="comment-submit" type="submit" class="comment-button">Post</button></li>
				</ul><p>
			</form>
		</div>
	</div>
</div><style>
	.comment-item {
		position: relative;
		padding: 2%;
		background: white;
		width: 95%;
		margin-bottom: 4%;
		box-shadow: 0px 0px 2px 2px rgba(0, 0, 0, 0.1);
		color: #2E3031;
	}
	
	.comment-item:after {
		content: "";
		position: relative;
		display: block;
		clear: both;
	}
	
	.comment-item p {
		line-height: 1.6;
	}
	
	.comment-item small {
		padding-left: 0.7em;
		color: #999;
		font-size: 0.8em;
	}
	
	.commenter-name {
		color: #367588;
		text-decoration: none;
		font-size: 1em;
		font-weight: 700;
	}
	
	.commenter-name strong {
		color: #e91e63;
		text-decoration: none;
		font-size: 1em;
		font-weight: 700;
	}#comment-reply-info p {
		margin: 0;
	}
	
	.comments-form {
		width: 95%;


	}
	
	.comments-form ul {
		list-style: none;
	}
	
	.comments-form ul li {
		margin-bottom: 15px;
	}
	
	.comments {
		border-top: 2px solid rgba(206, 202, 202, 0.2);
		padding-top: 1rem;
		position: relative;
	}
	
	.comment-button {
		border: 0;
		background: #C84848;
		cursor: pointer;
		color: #fff;
		font-weight: bold;
		font-size: 0.9em;
		text-transform: uppercase;
		margin-bottom: 20px;
		outline-style: none;
		padding: 10px 20px;
		width: auto;
		min-width: 25%;
	}
	
	#comment-submit {
		width: auto;
		min-width: 25%;
		position: relative;
	}
	
	.comment-button:disabled::after,
	.comment-button[disabled]::after {
		content: "";
		position: absolute;
		width: 16px;
		height: 16px;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		margin: auto;
		border: 4px solid transparent;
		border-top-color: #ffffff;
		-webkit-animation: button-loading-spinner 1s ease infinite;
		animation: button-loading-spinner 1s ease infinite;
	}
	
	@keyframes button-loading-spinner {
		from {
			transform: rotate(0turn);
		}
	
		to {
			transform: rotate(1turn);
		}
	}
	
	@-webkit-keyframes button-loading-spinner {
		from {
			transform: rotate(0turn);
		}
	
		to {
			transform: rotate(1turn);
		}
	}
	
	#load-more-comments {

	}
	
	#load-more-comments,
	#num-comments-displayed {
		display: none;
	}
	
	#comment-name,
	#comment-comment {
		width: 50%;
		padding: 10px;
		border: 0;
		background: #f7f7f7;
		color: #2E3031;
	}
	

	
	#comment-name:focus,
	#comment-comment:focus {
		background: #fff;
	}
	
	#comment-comment {
		width: 100%;
		height: 80px;
		resize: vertical;
		min-height: 80px;
	}.comment-info-text {
		letter-spacing: 0.5px;
	}
	
	.comment-info-text p {
		margin: 0 0 1rem;
		text-align: justify;
		font-size: .9em;
	}
	
	#comment-container {
		width: 100%;
	}
	
	#comment-section, #load-comments {

	}

#comment-name::-webkit-input-placeholder,
#comment-comment::-webkit-input-placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name::-moz-placeholder,
#comment-comment::-moz-placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name:-ms-input-placeholder,
#comment-comment:-ms-input-placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name::-ms-input-placeholder,
#comment-comment::-ms-input-placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name::placeholder,
#comment-comment::placeholder {
	font-family: 'Montserrat', Helvetica, sans-serif;   
}

#comment-name:focus,
#comment-comment:focus {
	background: #fff;
	font-family: 'Montserrat', Helvetica, sans-serif;   
}#load-comments {
		display: none;
	}</style>
</div>
<div class = "share">
    

<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
    position: relative;
    text-align: left; 
    height: 36px; 
    width: 32px; 
    float: left; 
    text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<span style="color: white;"> Share on </span><div id="share-buttons">
    <div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=http://localhost:4000/2023/04/26/Text-Mining-in-Python.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
    <div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/home?status=http://localhost:4000/2023/04/26/Text-Mining-in-Python.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
    <div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/2023/04/26/Text-Mining-in-Python.html&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
    <div class="pinterest" title="Share this on Pinterest" onclick="window.open('https://pinterest.com/pin/create/button/?url=&media=http://localhost:4000lesson_08.jpg&description=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M256 597q0-108 37.5-203.5t103.5-166.5 152-123 185-78 202-26q158 0 294 66.5t221 193.5 85 287q0 96-19 188t-60 177-100 149.5-145 103-189 38.5q-68 0-135-32t-96-88q-10 39-28 112.5t-23.5 95-20.5 71-26 71-32 62.5-46 77.5-62 86.5l-14 5-9-10q-15-157-15-188 0-92 21.5-206.5t66.5-287.5 52-203q-32-65-32-169 0-83 52-156t132-73q61 0 95 40.5t34 102.5q0 66-44 191t-44 187q0 63 45 104.5t109 41.5q55 0 102-25t78.5-68 56-95 38-110.5 20-111 6.5-99.5q0-173-109.5-269.5t-285.5-96.5q-200 0-334 129.5t-134 328.5q0 44 12.5 85t27 65 27 45.5 12.5 30.5q0 28-15 73t-37 45q-2 0-17-3-51-15-90.5-56t-61-94.5-32.5-108-11-106.5z"/></svg></div>
    <div class="mail" title="Share this through Email" onclick="window.open('mailto:?&body=http://localhost:4000/2023/04/26/Text-Mining-in-Python.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>
</div>

<button onclick="topFunction()" id="myBtn" title="Go to the top">
    <span class="material-symbols-outlined">
        keyboard_double_arrow_up
    </span>
</button>





        </div>
    </div>
    <div class="footer">
        <footer class="footer">
    <div class="footer-content">
        <!-- Begin Mailchimp Signup Form -->
        <link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css">
        <div id="mc_embed_signup">
            <form
                action="https://gmail.us13.list-manage.com/subscribe/post?u=ae95cc65e2d79bab1a22dba39&amp;id=9481205f08&amp;f_id=002cabe2f0"
                method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate"
                target="_blank" novalidate>
                <div id="mc_embed_signup_scroll">
                    <h2><b>Subscribe here to know about new lessons!</b> </h2>
                    <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
                    <div class="mc-field-group">
                        <label for="mce-EMAIL">Email Address <span class="asterisk">*</span>
                        </label>
                        <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" required>
                        <span id="mce-EMAIL-HELPERTEXT" class="helper_text"></span>
                    </div>
                    <div id="mce-responses" class="clear foot">
                        <div class="response" id="mce-error-response" style="display:none"></div>
                        <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>
                    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
                            name="b_ae95cc65e2d79bab1a22dba39_9481205f08" tabindex="-1" value=""></div>
                    <div class="optionalParent">
                        <div class="clear foot">
                            <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
                                class="button">
                            <p class="brandingLogo"><a href="http://eepurl.com/ikypNP"
                                    title="Mailchimp - email marketing made easy and fun"><img
                                        src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg"></a>
                            </p>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
        <script type='text/javascript'>(function ($) { window.fnames = new Array(); window.ftypes = new Array(); fnames[0] = 'EMAIL'; ftypes[0] = 'email'; fnames[1] = 'FNAME'; ftypes[1] = 'text'; fnames[2] = 'LNAME'; ftypes[2] = 'text'; fnames[3] = 'ADDRESS'; ftypes[3] = 'address'; fnames[4] = 'PHONE'; ftypes[4] = 'phone'; fnames[5] = 'BIRTHDAY'; ftypes[5] = 'birthday'; }(jQuery)); var $mcj = jQuery.noConflict(true);
        </script>
        <!--End mc_embed_signup-->
        <div>
            <h3><b>Additional resources</b></h3>
            <a href="https://programminghistorian.org/">Programming Historian</a>
            <a href="https://rweekly.org/">R Weekly</a>
            <a href="https://www.r-bloggers.com/">R Bloggers</a>
            <a href="https://python-bloggers.com/">Python Bloggers</a>
        </div>
        <br>
        <div class = "policy-box">
            <a href="/privacy-policy.html">Privacy Policy</a>
            <a href="/terms-of-use.html">Terms of Use</a>
            <div class="license">
                <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
                    <a property="dct:title" rel="cc:attributionURL" href="https://www.codingthepast.com/">Coding the
                        Past</a>
                    by
                    <a rel="cc:attributionURL dct:creator" property="cc:attributionName"
                        href="https://brunoponne.com/">Bruno Ponne
                    </a> is licensed under
                    <a href="http://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1" target="_blank"
                        rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC 4.0<img
                            style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                            src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img
                            style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                            src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img
                            style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                            src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1">
                    </a>
                </p>
            </div>
           <br>
        </div>
    </div>
</footer>
    </div>
</body>
<script src="/assets/js/filter.js"></script>
<script src="/assets/js/copycode.js"></script>
<script src="/assets/js/up.js"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

</html>